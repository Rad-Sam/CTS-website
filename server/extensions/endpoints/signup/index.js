var a=(a,{services:e})=>{a.post("/",(async(a,o)=>{try{let n=new e.UsersService({schema:a.schema,accountability:{admin:!0}}),s=new e.ItemsService("donors",{schema:a.schema,accountability:{admin:!0}}),t=await n.createOne({phone:a.body.phone,email:a.body.email,password:a.body.password,role:"278c343d-c422-42c0-a299-4912c0a490f2",first_name:a.body.first_name,last_name:a.body.last_name});await s.createOne({first_name:a.body.first_name,last_name:a.body.last_name,ABO:a.body.type,wilaya:a.body.city,phone:a.body.phone,email:a.body.email,status:"pending",account_id:t}),o.json({ok:!0})}catch(a){console.log(a),o.json({error:"Something wrong happen"})}}))};export{a as default};
